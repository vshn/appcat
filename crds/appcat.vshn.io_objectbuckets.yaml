---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.12.1
  name: objectbuckets.appcat.vshn.io
spec:
  group: appcat.vshn.io
  names:
    kind: ObjectBucket
    listKind: ObjectBucketList
    plural: objectbuckets
    singular: objectbucket
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.parameters.bucketName
      name: Bucket Name
      type: string
    - jsonPath: .spec.parameters.region
      name: Region
      type: string
    name: v1
    schema:
      openAPIV3Schema:
        description: ObjectBucket is the API for creating S3 buckets.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: ObjectBucketSpec defines the desired state of a ObjectBucket.
            properties:
              compositionRef:
                description: A CompositionReference references a Composition.
                properties:
                  name:
                    description: Name of the Composition.
                    type: string
                required:
                - name
                type: object
              parameters:
                description: ObjectBucketParameters are the configurable fields of
                  a ObjectBucket.
                properties:
                  bucketDeletionPolicy:
                    default: DeleteAll
                    description: BucketDeletionPolicy determines how buckets should
                      be deleted when Bucket is deleted. `DeleteIfEmpty` only deletes
                      the bucket if the bucket is empty. `DeleteAll` recursively deletes
                      all objects in the bucket and then removes it.
                    type: string
                  bucketName:
                    description: BucketName is the name of the bucket to create. Cannot
                      be changed after bucket is created. Name must be acceptable
                      by the S3 protocol, which follows RFC 1123. Be aware that S3
                      providers may require a unique name across the platform or region.
                    type: string
                  region:
                    description: Region is the name of the region where the bucket
                      shall be created. The region must be available in the S3 endpoint.
                    type: string
                required:
                - bucketName
                - region
                type: object
              writeConnectionSecretToRef:
                description: WriteConnectionSecretToRef references a secret to which
                  the connection details will be written.
                properties:
                  name:
                    description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                    type: string
                  namespace:
                    type: string
                type: object
                x-kubernetes-map-type: atomic
            type: object
          status:
            description: ObjectBucketStatus reflects the observed state of a ObjectBucket.
            properties:
              accessUserConditions:
                description: AccessUserConditions contains a copy of the claim's underlying
                  user account conditions.
                items:
                  properties:
                    lastTransitionTime:
                      description: LastTransitionTime is the last time the condition
                        transitioned from one status to another.
                      format: date-time
                      type: string
                    message:
                      description: Message is a human-readable message indicating
                        details about the transition.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: ObservedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: Reason contains a programmatic identifier indicating
                        the reason for the condition's last transition.
                      maxLength: 1024
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: Type of condition.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  type: object
                type: array
              bucketConditions:
                description: BucketConditions contains a copy of the claim's underlying
                  bucket conditions.
                items:
                  properties:
                    lastTransitionTime:
                      description: LastTransitionTime is the last time the condition
                        transitioned from one status to another.
                      format: date-time
                      type: string
                    message:
                      description: Message is a human-readable message indicating
                        details about the transition.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: ObservedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: Reason contains a programmatic identifier indicating
                        the reason for the condition's last transition.
                      maxLength: 1024
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: Type of condition.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  type: object
                type: array
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources: {}
